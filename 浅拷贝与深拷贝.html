<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>浅拷贝与深拷贝</title>
</head>
<body>
<script>
//浅拷贝与深拷贝的区别:
// 简单点来说，就是假设B复制了A，当修改A时，看B是否会发生变化，
// 如果B也跟着变了，说明这是浅拷贝，拿人手短，如果B没变，那就是深拷贝，自食其力。
//浅拷贝
//    var arr = [1,3,5,7,{m:3,n:2}];
//    var arr1 = [];
//   var result =  arr1.concat(arr);
//    console.log(result)
// 深拷贝 用json方法可以深拷贝数组和对象但是方法不行
// $.extend(true为深，false为浅，类型，变量名)
//console.log(arr)
//arr[4].m = 20;
//var result = JSON.parse(JSON.stringify(arr))
//console.log(arr)
//console.log(result)
//封装深拷贝 第一种方法
function deepclone(target) {
let result = null;
    if(target instanceof Array){
        result = [];
    }else if(target instanceof Object){
        result = {};
    }else{
     return target
    }
    for(let key in target){
         if(target instanceof Array || target instanceof Object){
              result[key] = deepclone(target[key]);
         }else{
             result[key] = target[key];
         }
        }
        return result
}
var obj = {name:'zhangsan',age:18,setname:function () {
    console.log('hello');
}}
let b =deepclone(obj);
obj.name = 'lisi'
console.log(obj);
console.log(b);

</script>
</body>
</html>